# Список файлов в наборе инструментов MCP сервера

## Основные файлы

### README.md
Полная документация по настройке MCP сервера с подробными инструкциями.

### QUICKSTART.md
Быстрый старт - краткое руководство для опытных пользователей.

### FILES.md
Этот файл - описание всех файлов в наборе.

## Скрипты для сервера (Linux)

### install.sh
Основной скрипт установки:
- Проверяет и устанавливает Node.js
- Устанавливает MCP сервер через npm
- Создает директорию и файлы конфигурации
- Настраивает systemd service

**Использование:** `sudo ./install.sh`

### setup-complete.sh
Полная автоматическая настройка:
- Выполняет все шаги установки
- Интерактивно настраивает конфигурацию
- Запускает service

**Использование:** `sudo ./setup-complete.sh`

### setup-kong.sh
Скрипт для настройки Kong API Gateway:
- Определяет IP Docker bridge
- Создает резервную копию конфигурации
- Помогает настроить доступ к MCP endpoint

**Использование:** `./setup-kong.sh` (в директории Supabase)

### test-connection.sh
Скрипт для тестирования подключения:
- Проверяет доступность MCP сервера
- Тестирует MCP протокол
- Проверяет статус service и логи

**Использование:** `./test-connection.sh [url]`

### ssh-tunnel.sh
Скрипт для создания SSH туннеля на Linux:
- Создает безопасное подключение к MCP серверу
- Перенаправляет порт локально

**Использование:** `./ssh-tunnel.sh [remote_port] [local_port]`

## Скрипты для Windows

### start-ssh-tunnel.bat
Batch-скрипт для создания SSH туннеля на Windows:
- Аналогичен ssh-tunnel.sh для Windows
- Простой запуск через двойной клик

**Использование:** Отредактируйте параметры и запустите

## Конфигурационные файлы

### env-template.txt
Шаблон переменных окружения для MCP сервера:
- SUPABASE_URL - URL Supabase API
- SUPABASE_DB_URL - строка подключения к PostgreSQL
- SUPABASE_SERVICE_ROLE_KEY - Service Role Key
- MCP_PORT - порт для MCP сервера
- MCP_READ_ONLY - режим только чтения

**Использование:** Скопируйте как `.env` в `/opt/mcp-supabase/` и заполните

### mcp-supabase.service
Systemd service файл для автозапуска MCP сервера:
- Автоматический запуск при загрузке системы
- Автоматический перезапуск при сбоях
- Логирование в journald

**Использование:** `sudo cp mcp-supabase.service /etc/systemd/system/ && sudo systemctl daemon-reload`

### cursor-config.json
Пример конфигурации для Cursor:
- Настройка через командную строку (command)
- Параметры подключения к MCP серверу

**Использование:** Используйте как справочник для настройки Cursor

## Документация

### cursor-config-windows.md
Подробная инструкция по настройке Cursor на Windows:
- Нахождение конфигурационного файла
- Варианты подключения (SSH туннель, локальный, прямой)
- Устранение неполадок
- Примеры конфигураций

## Структура файлов на сервере после установки

```
/opt/mcp-supabase/
├── .env                    # Конфигурация (создается из env-template.txt)
└── ...

/etc/systemd/system/
└── mcp-supabase.service   # Service файл (копируется из mcp-supabase.service)
```

## Порядок использования

1. **Первый раз:**
   - Загрузите все файлы на сервер
   - Запустите `setup-complete.sh`
   - Отредактируйте `.env`
   - Настройте Cursor локально

2. **Ежедневное использование:**
   - Запустите SSH туннель (`start-ssh-tunnel.bat` на Windows)
   - Используйте Cursor как обычно

3. **Устранение проблем:**
   - Используйте `test-connection.sh` для проверки
   - Проверяйте логи через `journalctl`
   - Читайте документацию в README.md
