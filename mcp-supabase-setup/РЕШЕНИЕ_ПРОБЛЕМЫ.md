# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã: –ø–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ npm

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `setup-complete.sh` –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –æ—à–∏–±–∫—É:
```
npm error 404 '@supabase-community/mcp-server-supabase@latest' is not in this registry.
```

## –ü—Ä–∏—á–∏–Ω–∞

–ü–∞–∫–µ—Ç `@supabase-community/mcp-server-supabase` **–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** –≤ npm registry.

**–í–∞–∂–Ω–æ:** –î–ª—è self-hosted Supabase MCP endpoint **–≤—Å—Ç—Ä–æ–µ–Ω** –≤ Supabase! –í–∞–º –Ω–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç.

## –†–µ—à–µ–Ω–∏–µ

–î–ª—è self-hosted Supabase –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π MCP endpoint**. –í–æ—Ç —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### –®–∞–≥ 1: –í–∫–ª—é—á–∏—Ç—å MCP endpoint –≤ Supabase

MCP endpoint —É–∂–µ –µ—Å—Ç—å –≤ –≤–∞—à–µ–º Supabase, –Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω. –ù—É–∂–Ω–æ –µ–≥–æ –≤–∫–ª—é—á–∏—Ç—å:

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é Supabase –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
   ```bash
   cd /path/to/supabase  # –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Supabase (–æ–±—ã—á–Ω–æ —Å docker-compose.yml)
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Kong:**
   ```bash
   bash /opt/mcp-supabase-setup/setup-kong.sh
   ```

3. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª Kong:**
   ```bash
   nano ./volumes/api/kong.yml
   ```

4. **–ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é —Å `name: mcp`** –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
   - –ü–ª–∞–≥–∏–Ω `request-termination` **–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω** –∏–ª–∏ —É–¥–∞–ª—ë–Ω
   - –í —Å–µ–∫—Ü–∏–∏ `allow` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π IP (–Ω–∞–ø—Ä–∏–º–µ—Ä, `172.18.0.1`)

5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Kong:**
   ```bash
   docker-compose restart kong
   ```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Cursor –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º—É MCP endpoint

–í Cursor –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **HTTP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –≤–º–µ—Å—Ç–æ –∫–æ–º–∞–Ω–¥—ã npx:

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ SSH —Ç—É–Ω–Ω–µ–ª—å** (–ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ):
   ```powershell
   ssh -N -L 3100:localhost:8000 root@–≤–∞—à-ip-—Å–µ—Ä–≤–µ—Ä–∞
   ```
   
   –ì–¥–µ `8000` - —ç—Ç–æ –ø–æ—Ä—Ç Kong API Gateway

2. **–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Cursor** –¥–æ–±–∞–≤—å—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ HTTP:
   ```json
   {
     "mcpServers": {
       "supabase": {
         "type": "http",
         "url": "http://localhost:3100/mcp"
       }
     }
   }
   ```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–µ—Å–ª–∏ –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç)

–ï—Å–ª–∏ Kong API –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ:

```json
{
  "mcpServers": {
    "supabase": {
      "type": "http",
      "url": "http://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä:8000/mcp?project_ref=–≤–∞—à_project_ref"
    }
  }
}
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ MCP endpoint –¥–æ—Å—Ç—É–ø–µ–Ω:**
   ```bash
   # –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
   curl http://localhost:8000/mcp/health
   ```

2. **–ò–ª–∏ —á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å (–ª–æ–∫–∞–ª—å–Ω–æ):**
   ```powershell
   curl http://localhost:3100/mcp/health
   ```

3. **–í Cursor –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å:**
   ```
   –ü–æ–∫–∞–∂–∏ —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
   ```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å npx —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–∞–∫–µ—Ç–æ–º

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä (–¥–ª—è hosted Supabase), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞:

```bash
npx -y @supabase/mcp-server-supabase@latest
```

–ù–æ –¥–ª—è **self-hosted Supabase** —ç—Ç–æ **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π endpoint!

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Supabase: Enable MCP Server](https://supabase.com/docs/guides/self-hosting/enable-mcp)
- [Community MCP Server (–¥–ª—è hosted Supabase)](https://github.com/supabase-community/supabase-mcp)

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?

1. **–ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É npm –ø–∞–∫–µ—Ç–∞** - –æ–Ω –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è self-hosted
2. **–°–ª–µ–¥—É–π—Ç–µ –®–∞–≥—É 1 –≤—ã—à–µ** - –≤–∫–ª—é—á–∏—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π MCP endpoint
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Cursor** —á–µ—Ä–µ–∑ HTTP (—Å–º. –®–∞–≥ 2)
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É** (—Å–º. –®–∞–≥ 3)

–£–¥–∞—á–∏! üöÄ
